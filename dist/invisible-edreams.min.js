/*
 *  invisible-edreams - v4.1.0
 *  
 *  
 *
 *  Made by 
 *  Under MIT License
 */
!function(a,b,c,d){"use strict";function e(b,c){this.element=b,this.settings=a.extend({},g,c),this._defaults=g,this._name=f,this.init()}var f="invisibleEdreams",g={propertyName:"value"};a.extend(e.prototype,{init:function(){this.testFunction("hello!"),this.showKeyboard(),this.eventHandlers()},testFunction:function(b){a(this.element).text(b)},showKeyboard:function(){var b=this.createAlphabet();a(this.element).html(b)},createAlphabet:function(){var a,b;a=_.map(_.range("a".charCodeAt(0),"z".charCodeAt(0)+1),function(a){return String.fromCharCode(a)}),b="<ul>";for(var c=0;c<a.length;c++)b+='<li data-id="'+c+'">'+a[c]+"</li>";return b+="</ul>"},rotate:function(b){var c,d=a(this.element).find("li").length,e=a(this.element).find("li.active").data("id")||0;"right"===b?c=e+1>d?0:e+1:"left"===b&&(c=0>e-1?d-1:e-1),a(this.element).find("li").removeClass("active"),a(this.element).find('li[data-id="'+c+'"]').addClass("active")},writeText:function(){var b=a('input[name="test"]'),c=b.val(),d=a(this.element).find("li.active").text().toLowerCase();b.val(c+d)},removeText:function(){var b=a('input[name="test"]'),c=b.val();b.val(c.slice(0,-1))},eventHandlers:function(){a("body").on("keydown",_.bind(this.getKeyEvent,this)),a(b).on("gamepadconnected",_.bind(this.gamepadConnected,this)),a(b).on("gamepaddisconnected",_.bind(this.gamepadDisconnected,this))},gamepadConnected:function(a){console.log("Gamepad connected.");b.setInterval(_.bind(this.checkGamepad,this),200)},gamepadDisonnected:function(a){console.log("Gamepad disconnected!")},checkGamepad:function(){var a=navigator.getGamepads()[0];a.buttons[0].pressed,a.buttons[1].pressed&&this.rotate("right"),a.buttons[2].pressed&&this.rotate("left"),a.buttons[3].pressed,a.buttons[4].pressed&&this.removeText(),a.buttons[5].pressed&&this.writeText()},getKeyEvent:function(a){var b;switch(a.keyCode){case 39:this.rotate("right");break;case 37:this.rotate("left");break;case 38:b="up";break;case 40:b="down";break;case 13:this.writeText()}}}),a.fn[f]=function(b){return this.each(function(){a.data(this,"plugin_"+f)||a.data(this,"plugin_"+f,new e(this,b))})}}(jQuery,window,document);